(function(e){function t(t){for(var n,s,c=t[0],l=t[1],o=t[2],d=0,m=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(m.length)m.shift()();return r.push.apply(r,o||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,c=1;c<i.length;c++){var l=i[c];0!==a[l]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=i[0]))}return e}var n={},a={app:0},r=[];function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vue-catalog/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var o=0;o<c.length;o++)t(c[o]);var u=l;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"16a4":function(e,t,i){"use strict";i("7a88")},"1cb8":function(e,t,i){"use strict";i("c24c")},"1d10":function(e,t,i){"use strict";i("b1f2")},"28d6":function(e,t,i){},"2be7":function(e,t,i){"use strict";i("b416")},"3c6a":function(e,t,i){},"4cd4":function(e,t,i){"use strict";i("b0c2")},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"container"},[i("FilterPanel",{staticClass:"filter-panel",attrs:{items:e.fetchedItems},on:{"query-change":e.onQueryChange}}),i("ItemList",{staticClass:"item-list",attrs:{items:e.items,isFetching:e.isFetching}})],1)])},r=[],s=(i("d3b7"),i("159b"),i("4de4"),i("caad"),i("2532"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"filter-panel"},[i("CheckboxListSelector",{attrs:{propertyName:"category",title:"Категория",items:e.categoryOptions,addTextField:!0},on:{"selection-change":e.onCategorySelectionChange}}),i("RangeSelector",{attrs:{propertyName:"price",title:"Цена",items:e.items},on:{"range-change":e.onRangeSelectionChange}}),i("RadioListSelector",{attrs:{propertyName:"discount",title:"Размер скидки",items:e.discountOptions},on:{"selection-change":e.onDiscountSelectionChange}})],1)}),c=[],l=(i("d81d"),i("a630"),i("3ca3"),i("6062"),i("ddb0"),i("4e82"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"checkbox-contaier"},[i("h4",[e._v(e._s(e.title))]),e.addTextField?i("TextField",{on:{"value-change":e.onTextFieldValueChange}}):e._e(),e._l(e.filteredItems,(function(t){return i("div",{key:t.id,staticClass:"list-wrap"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedItems[t.id].checked,expression:"checkedItems[item.id].checked"}],attrs:{type:"checkbox",id:"checkbox"+t.id},domProps:{checked:Array.isArray(e.checkedItems[t.id].checked)?e._i(e.checkedItems[t.id].checked,null)>-1:e.checkedItems[t.id].checked},on:{change:function(i){var n=e.checkedItems[t.id].checked,a=i.target,r=!!a.checked;if(Array.isArray(n)){var s=null,c=e._i(n,s);a.checked?c<0&&e.$set(e.checkedItems[t.id],"checked",n.concat([s])):c>-1&&e.$set(e.checkedItems[t.id],"checked",n.slice(0,c).concat(n.slice(c+1)))}else e.$set(e.checkedItems[t.id],"checked",r)}}}),i("label",{attrs:{for:"checkbox"+t.id}},[e._v(e._s(t.option))])])}))],2)}),o=[],u=i("2909"),d=(i("498a"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),i("button",{on:{click:e.onClick}},[e._v("✕")])])}),m=[],h={props:{placeholder:{type:String,required:!1,default:""}},data:function(){return{value:""}},watch:{value:function(e){this.$emit("value-change",e)}},methods:{onClick:function(){this.value=""}}},p=h,f=(i("1d10"),i("2877")),g=Object(f["a"])(p,d,m,!1,null,"2558ac50",null),v=g.exports,y={components:{TextField:v},props:{items:{type:Array,required:!0},propertyName:{type:String,required:!0},title:{type:String,required:!0},addTextField:{required:!1,default:!1}},data:function(){return{textFilter:"",checkedItems:Object(u["a"])(this.items)}},computed:{filteredItems:function(){var e=this;return this.items.filter((function(t){return t.option.toLowerCase().includes(e.textFilter.toLowerCase().trim())}))}},watch:{checkedItems:{deep:!0,immediate:!0,handler:function(e){var t=!1,i=e.map((function(e){if(e.checked)return t=!0,e.option}));t||(i=e.map((function(e){return e.option}))),this.$emit("selection-change",i)}},items:{deep:!0,immediate:!0,handler:function(e){this.checkedItems=Object(u["a"])(e)}}},methods:{onTextFieldValueChange:function(e){this.textFilter=e}}},V=y,b=(i("16a4"),Object(f["a"])(V,l,o,!1,null,"cdc7cda2",null)),_=b.exports,x=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"radio-contaier"},[i("h4",[e._v(e._s(e.title))]),e._l(e.items,(function(t){return i("div",{key:t.id,staticClass:"list-wrap"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedItem,expression:"selectedItem"}],attrs:{type:"radio",id:"radio"+t.id},domProps:{value:t.option,checked:e._q(e.selectedItem,t.option)},on:{change:function(i){e.selectedItem=t.option}}}),i("label",{attrs:{for:"radio"+t.id}},[e._v(e._s(t.option))])])}))],2)},C=[],k={props:{items:{type:Array,required:!0},propertyName:{type:String,required:!0},title:{type:String,required:!0}},data:function(){return{selectedItem:{}}},computed:{},watch:{selectedItem:function(e){this.$emit("selection-change",e)}}},q=k,O=(i("1cb8"),Object(f["a"])(q,x,C,!1,null,null,null)),w=O.exports,I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"range-contaier"},[i("h4",[e._v(e._s(e.title))]),i("DoubleRange",{attrs:{minValue:e.limits.minVal,maxValue:e.limits.maxVal},on:{"range-change":e.onRangeChange}})],1)},S=[],j=(i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrap"},[i("div",{staticClass:"text-container"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.leftValue,expression:"leftValue"}],attrs:{type:"number",placeholder:e.minValue},domProps:{value:e.leftValue},on:{input:function(t){t.target.composing||(e.leftValue=t.target.value)}}}),i("span",{staticClass:"dash"},[e._v("—")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.rightValue,expression:"rightValue"}],attrs:{type:"number",placeholder:e.maxValue},domProps:{value:e.rightValue},on:{input:function(t){t.target.composing||(e.rightValue=t.target.value)}}})]),i("div",{staticClass:"flex-container"},[i("div",{staticClass:"range-container",style:e.cssVars},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.leftValue,expression:"leftValue"}],attrs:{type:"range",min:e.minValue,max:e.maxValue},domProps:{value:e.leftValue},on:{__r:function(t){e.leftValue=t.target.value}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.rightValue,expression:"rightValue"}],attrs:{type:"range",min:e.minValue,max:e.maxValue},domProps:{value:e.rightValue},on:{__r:function(t){e.rightValue=t.target.value}}})])])])}),$=[],F=(i("a9e3"),{props:{minValue:{type:Number,required:!0},maxValue:{type:Number,required:!0}},data:function(){return{leftValue:this.minValue,rightValue:this.maxValue}},computed:{cssVars:function(){return{"--active-interval-offset":100*(this.leftValue-this.minValue)/(this.maxValue-this.minValue)+"%","--interval-width":100*(this.rightValue-this.leftValue)/(this.maxValue-this.minValue)+"%"}}},watch:{minValue:function(e){this.leftValue=e},maxValue:function(e){this.rightValue=e},leftValue:function(){if(this.leftValue=Number(this.leftValue),this.leftValue>this.rightValue){var e=this.leftValue;this.leftValue=this.rightValue,this.rightValue=e}this.$emit("range-change",this.leftValue,this.rightValue)},rightValue:function(){if(this.rightValue=Number(this.rightValue),this.rightValue<this.leftValue){var e=this.rightValue;this.rightValue=this.leftValue,this.leftValue=e}this.$emit("range-change",this.leftValue,this.rightValue)}}}),P=F,N=(i("2be7"),Object(f["a"])(P,j,$,!1,null,"10bd1b40",null)),R=N.exports,A={components:{DoubleRange:R},props:{items:{type:Array,required:!0},propertyName:{type:String,required:!0},title:{type:String,required:!0}},computed:{limits:function(){if(!this.items||0===this.items.length)return{minVal:0,maxVal:100};var e=this.items.map((function(e){return e.price})),t=Math.min.apply(Math,Object(u["a"])(e)),i=Math.max.apply(Math,Object(u["a"])(e));return{minVal:t,maxVal:i}}},methods:{onRangeChange:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.$emit.apply(this,["range-change"].concat(t))}},mounted:function(){this.onRangeChange(this.limits.minVal,this.limits.maxVal)}},M=A,T=Object(f["a"])(M,I,S,!1,null,"f0bf4e98",null),E=T.exports,L={components:{CheckboxListSelector:_,RadioListSelector:w,RangeSelector:E},props:{items:{type:Array,required:!0}},methods:{onCategorySelectionChange:function(e){this.$emit("query-change",{selectedCategories:e})},onDiscountSelectionChange:function(e){this.$emit("query-change",{selectedDiscount:e})},onRangeSelectionChange:function(e,t){this.$emit("query-change",{selectedPriceRange:{min:e,max:t}})},filterUniqueOptions:function(e,t,i,n){var a=e.map((function(e){return e[t]})),r=Array.from(new Set(a));return i&&(r=r.sort()),i&&n&&(r=r.reverse()),r.map((function(e,t){return{id:t,option:e}}))}},computed:{categoryOptions:function(){return this.filterUniqueOptions(this.items,"category").map((function(e){return e.checked=!1,e}))},discountOptions:function(){return this.filterUniqueOptions(this.items,"discount",!0,!0)}}},D=L,U=(i("d3f0"),Object(f["a"])(D,s,c,!1,null,null,null)),H=U.exports,J=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[!e.isFetching&&e.items&&0!==e.items.length?i("div",{staticClass:"item-list"},e._l(e.items,(function(e){return i("ItemCard",{key:e.id,staticClass:"product-card",attrs:{item:e}})})),1):e._e(),e.isFetching||e.items&&0!==e.items.length?e._e():i("div",{staticClass:"item-list-placeholder"},[i("span",[e._v("Нет подходящих товаров")])]),e.isFetching?i("div",{staticClass:"item-list-loader-placeholder"},[i("span",[e._v("Загрузка")])]):e._e()])},Q=[],z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"item-card"},[i("div",{staticClass:"image-container"},[i("img",{staticClass:"image",attrs:{src:e.item.image,alt:"",srcset:""}})]),i("span",{staticClass:"price"},[e._v("$"+e._s(e.item.price))]),i("div",{staticClass:"rating"},[i("svg",[i("path",{class:{active:e.item.rating.count},attrs:{d:"M7 10l4 3-1-5 4-3H9L7 0 5 5H0l4 3-1 5 4-3z"}})]),e.item.rating.count?i("span",{staticClass:"rating-rate"},[e._v(e._s(e.item.rating.rate))]):e._e(),i("span",{staticClass:"rating-count"},[e._v(e._s((e.item.rating.count?e.item.rating.count:"нет")+" отзывов"))])]),i("span",{staticClass:"title"},[e._v(e._s(e.item.title))]),i("button",{staticClass:"cart-btn"},[e._v("В корзину")])])},B=[],G={props:{item:{type:Object,required:!0}}},K=G,W=(i("7c7f"),Object(f["a"])(K,z,B,!1,null,"0364e1ff",null)),X=W.exports,Y={components:{ItemCard:X},props:{items:{type:Array,required:!0},isFetching:{type:Boolean,required:!0}}},Z=Y,ee=(i("4cd4"),Object(f["a"])(Z,J,Q,!1,null,"4dd79c40",null)),te=ee.exports,ie={name:"App",data:function(){return{fetchedItems:[],isFetching:!0,query:{selectedCategories:[],selectedDiscount:0,selectedPriceRange:{min:null,max:null}}}},components:{FilterPanel:H,ItemList:te},mounted:function(){var e=this;fetch("https://fakestoreapi.com/products/").then((function(e){return e.json()})).then((function(t){var i=[0,10,30,50,60];t.forEach((function(t){var n=e.randomInteger(0,i.length-1);t.discount=i[n]})),e.fetchedItems=t,e.isFetching=!1}))},methods:{randomInteger:function(e,t){var i=e+Math.random()*(t+1-e);return Math.floor(i)},onQueryChange:function(e){var t=this;this.isFetching=!0,setTimeout((function(){for(var i in e)t.query[i]=e[i];t.isFetching=!1}),700)}},computed:{items:function(){var e=this;return this.fetchedItems.filter((function(t){return e.query.selectedCategories.includes(t.category)})).filter((function(t){return t.price<=e.query.selectedPriceRange.max&&t.price>=e.query.selectedPriceRange.min})).filter((function(t){return 0==e.query.selectedDiscount||t.discount==e.query.selectedDiscount}))}}},ne=ie,ae=(i("cf25"),i("7a35"),Object(f["a"])(ne,a,r,!1,null,"6b0e299c",null)),re=ae.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(re)}}).$mount("#app")},"7a35":function(e,t,i){"use strict";i("3c6a")},"7a88":function(e,t,i){},"7c7f":function(e,t,i){"use strict";i("28d6")},b0c2:function(e,t,i){},b1f2:function(e,t,i){},b416:function(e,t,i){},ba01:function(e,t,i){},c24c:function(e,t,i){},cf25:function(e,t,i){"use strict";i("fea6")},d3f0:function(e,t,i){"use strict";i("ba01")},fea6:function(e,t,i){}});
//# sourceMappingURL=app.541946b1.js.map